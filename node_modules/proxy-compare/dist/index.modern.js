const t=Symbol(),e=Symbol(),r=Symbol(),n=t=>{try{const e=Object.getPrototypeOf(t);return e===Object.prototype||e===Array.prototype}catch(t){return!1}},o=t=>"object"==typeof t&&null!==t,s=n=>{const o={o:n,t:!1,r(t){if(!this.t){let e=this.a.get(this.o);e||(e=new Set,this.a.set(this.o,e)),e.add(t)}},u(){this.t=!0,this.a.delete(this.o)},get(t,e){return e===r?this.o:(this.r(e),c(t[e],this.a,this.c))},has(t,r){return r===e?(this.u(),!0):(this.r(r),r in t)},ownKeys(e){return this.r(t),Reflect.ownKeys(e)}};return Object.isFrozen(n)&&(o.set=o.deleteProperty=()=>!1),o},c=(t,e,o)=>{if(!n(t))return t;const c=t[r]||t;let i=o&&o.get(c);return i||(i=s(c),i.p=new Proxy((t=>{var e;return Object.isFrozen(t)?Array.isArray(t)?Array.from(t):Object.create((null==(e=t.constructor)?void 0:e.prototype)||null,(t=>{const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(t=>{t.configurable=!0}),e})(t)):t})(c),i),o&&o.set(c,i)),i.a=e,i.c=o,i.p},i=(t,e)=>{const r=Reflect.ownKeys(t),n=Reflect.ownKeys(e);return r.length!==n.length||r.some((t,e)=>t!==n[e])},u=1,l=2,h=4,y=8,a=(e,r,n,s,c=0)=>{if(Object.is(e,r)&&(!o(e)||0==(2&c)))return!1;if(!o(e)||!o(r))return!0;const u=n.get(e);if(!u)return 0==(1&c);if(s&&0==(2&c)){const t=s.get(e);if(t&&t.n===r)return t.g;s.set(e,{n:r,g:!1})}let l=null;for(const o of u){const u=o===t?i(e,r):a(e[o],r[o],n,s,c>>>2<<2|c>>>2);if(!0!==u&&!1!==u||(l=u),l)break}return null===l&&(l=0==(1&c)),s&&0==(2&c)&&s.set(e,{n:r,g:l}),l},f=t=>!!n(t)&&e in t,p=t=>n(t)&&t[r]||null,b=(t,e)=>{const r=[],n=(t,o)=>{const s=e.get(t);s?s.forEach(e=>{n(t[e],o?[...o,e]:[e])}):o&&r.push(o)};return n(t),r};export{u as MODE_ASSUME_UNCHANGED_IF_UNAFFECTED,h as MODE_ASSUME_UNCHANGED_IF_UNAFFECTED_IN_DEEP,l as MODE_IGNORE_REF_EQUALITY,y as MODE_IGNORE_REF_EQUALITY_IN_DEEP,b as affectedToPathList,c as createDeepProxy,p as getUntrackedObject,a as isDeepChanged,f as trackMemo};
//# sourceMappingURL=index.modern.js.map
